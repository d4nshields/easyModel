{"version":3,"sources":["webpack:///webpack/bootstrap 6a867cb873e6d477c37c","webpack:///./src/listenTo.ts","webpack:///./src/model.ts","webpack:///./spec/app.ts","webpack:///./src/pubsub.ts","webpack:///./src/utils.ts"],"names":[],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6a867cb873e6d477c37c","\"use strict\"\r\nimport { isUndefined } from './utils'\r\n/**\r\n* listenTo\r\n* Listens for a model change and fires the callback function\r\n* @param {model} model - model\r\n* @param {string} action - the key/symbol of a model\r\n* @param {function} func - the callback/ function triggered by model change\r\n* @example\r\n* // Listening for a model change\r\n* let myModel = new Model()\r\n*\r\n* listenTo(myModel, \"name\", myFunction)\r\n*\r\n* myModel.set(\"name\", \"Vitalie\") // The model was changed  name Vitalie\r\n* myModel.set(\"name\", \"Dan\") // The model was changed  name Dan\r\n*\r\n* function myFunction(key, value) {\r\n*   console.log(\"The model was changed \", key, value )\r\n* }\r\n*/\r\nexport function listenTo(model, action: string, func) : void {\r\n  if(isUndefined(model)) {\r\n    throw new Error(\"model is undefined\")\r\n  }\r\n  if(isUndefined(action)) {\r\n    throw new Error(\"action is undefined\")\r\n  }\r\n  if(isUndefined(func)) {\r\n    throw new Error(\"func is undefined\");\r\n  }\r\n  model.pubsub.subscribe(action, func)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/listenTo.ts","import { isUndefined, isObject, isEqual, clone} from \"./utils\"\r\nimport {PubSub} from \"./pubsub\"\r\nexport class Model {\r\n    private _map: any;\r\n    private _pubsub: any;\r\n    /**\r\n     * @param {Object} [defaults] - default arguments for the model.\r\n     * @example\r\n     * // Set a model with a string key and string as value\r\n     * let model = new Model({id: 10})\r\n     * console.log(model.get(\"id\")) //10\r\n     *\r\n     * Warning:  pasing arguments to contructor(defaults) will not fire events\r\n    */\r\n    constructor(defaults: any = null) {\r\n        this._map = new Map();\r\n        this._pubsub = new PubSub()\r\n        if(arguments.length > 1) throw new Error(`Passing more than one argument to the contructor, expected 1 got ${arguments.length}`)\r\n        if(defaults && !isObject(defaults)) throw new Error(`Argument should be Object, got ${typeof defaults}`)\r\n        if(defaults) this.set(defaults, undefined, { silent: true })\r\n    }\r\n    /**\r\n    * Returns the pubsub instance\r\n    */\r\n    get pubsub() {\r\n        return this._pubsub;\r\n    }\r\n    /**\r\n    * Returns the model keys\r\n    */\r\n    get keys() {\r\n        return this._map.keys()\r\n    }\r\n    /**\r\n    * Model set.\r\n    * @param {(string|Object)} key - key can be string or {}.\r\n    * @param {(string|Object)} [value] - value can be string or {}, not used if the key is an {}.\r\n    * @param {Object} [options] - model options.\r\n    * @example\r\n    * // Set a model with a string key and string as value\r\n    * model.set(\"name\", \"Vitalie\")\r\n    * @example\r\n    * // Set a model with a string key and object as value\r\n    * model.set(\"person\", {\r\n    *   firstName: \"Vitalie\",\r\n    *   lastName: \"Jerebnii\"\r\n    * })\r\n    * @example\r\n    * // Set a model with an object and mixed values\r\n    * model.set({\r\n    *   id: 10,\r\n    *   person: {\r\n    *     firstName: \"Vitalie\",\r\n    *     lastName: \"Jerebnii\"\r\n    *   }\r\n    * })\r\n    * @example\r\n    * // Set a model without dispatching an event (silent mode)\r\n    * model.set(\"name\", \"Vitalie\", {silent: true})\r\n    */\r\n    set(key , value?: any, options?: any): void{\r\n        if(isUndefined(key)) {\r\n            throw new Error(\"Key is undefined\")\r\n        }\r\n        if(!isObject(key) && !isUndefined(value)) {\r\n            this._setSingleKey(key, value, options)\r\n        } else {\r\n            this._objToStrMap(key)\r\n        }\r\n\r\n    }\r\n    /**\r\n    * Set a single key with value\r\n    * @param {string} key\r\n    * @param {(string|Object)} value\r\n    */\r\n    private _setSingleKey(key,value, options: any = {}): void {\r\n        if( options.force || this._isValueChanged(key,value)) {\r\n            this._map.set(key, value)\r\n            if(!options.silent)\r\n                this._pubsub.publish(key, value)\r\n        }\r\n    }\r\n    /**\r\n    * Converts an object to key values\r\n    * @param {Object} key - model key.\r\n    */\r\n    private _objToStrMap(obj): void {\r\n      for (const key of Object.keys(obj)) {\r\n        this._setSingleKey(key,obj[key])\r\n      }\r\n    }\r\n    /**\r\n    * Checks if the new value is differend from the old one\r\n    * @param {(string|Object)} key - key can be string or {}.\r\n    * @param {(string|Object)} [value] - value can be string or {}, not used if the key is an {}.\r\n    * @return {boolean} boolean\r\n    */\r\n    private _isValueChanged(key,value) {\r\n      if(this._map.has(key)) {\r\n        let oldValue = this._map.get(key)\r\n        return  !isEqual(value, oldValue)\r\n      }\r\n      return true\r\n    }\r\n    /**\r\n    * Model get.\r\n    * @param {(string)} key - model key.\r\n    * @param {Object} [options] - get options.\r\n    * @return {string|Object} The model value as string or object\r\n    * @example\r\n    * // Set a model with a string key and string as value\r\n    * model.set(\"name\", \"Vitalie\")\r\n    * let name = model.get(\"name\")\r\n    * console.log(name) // \"Vitalie\"\r\n    * @example \r\n    * // Using immutability\r\n    * model.set(\"data\", {x:1})\r\n    * let data = model.get(\"data\", {immutable: true});\r\n    * data.x = 2;\r\n    * console.log(data) // {x:2}\r\n    * let newData = model.get(\"data\");\r\n    * console.log(newData) // {x:1}\r\n    * \r\n    */\r\n    get(key, options?: any) {\r\n        if( !isUndefined(options) && options.immutable ) {\r\n            return clone(this._map.get(key))\r\n        } else {\r\n            return this._map.get(key);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model.ts","import {Model} from \"../src/model\"\nimport {listenTo} from \"../src/listenTo\"\n//import race from \"speedracer\"\nconsole.log(\"TEST Sipmle Model\")\n\nlet simpleModel = new Model();\n\nlistenTo(simpleModel, \"data\", function(key, value){\n    console.log(value, \"UPDATING\");\n})\n\nsimpleModel.set(\"data\", {x:1, y: \"n\"}, {force:true});\n  \nlet justData = simpleModel.get(\"data\",{immutable: true});\njustData.x = 2;\njustData.z = 2;\nconsole.log(justData, \"justData\")\n\nlet anotherData = simpleModel.get(\"data\");\nconsole.log(anotherData, \"anotherData\")\n\n\nsimpleModel.set(\"data\", {x:9, y: \"m\"}, {force:true});\nconsole.log(justData, \"justData\"); \n\nconsole.log(\"END\"); \n\n\n\n// WEBPACK FOOTER //\n// ./spec/app.ts","import {  isUndefined } from './utils'\r\nexport class PubSub {\r\n    private topics: any;\r\n    private subUid: number;\r\n    constructor() {\r\n        this.topics = {}\r\n        this.subUid = -1\r\n    }\r\n    // Publish or broadcast events of interest\r\n    // with a specific topic name and arguments\r\n    // such as the data to pass along\r\n    publish(topic, args) {\r\n        if (!(topic in this.topics) && !this.topics[topic]) {\r\n            return false\r\n        }\r\n\r\n        let subscribers = this.topics[topic],\r\n            len = subscribers ? subscribers.length : 0\r\n\r\n        while (len--) {\r\n            subscribers[len].func(topic, args)\r\n        }\r\n\r\n        return this\r\n    }\r\n\r\n    // Subscribe to events of interest\r\n    // with a specific topic name and a\r\n    // callback function, to be executed\r\n    // when the topic/event is observed\r\n    subscribe(topic, func) {\r\n\r\n        if (!this.topics[topic]) {\r\n            this.topics[topic] = []\r\n        }\r\n\r\n        let token = (++this.subUid).toString()\r\n        this.topics[topic].push({\r\n            token: token,\r\n            func: func\r\n        })\r\n        return token\r\n    }\r\n\r\n    // Unsubscribe from a specific\r\n    // topic, based on a tokenized reference\r\n    // to the subscription\r\n    unsubscribe(token) {\r\n        for (let m in this.topics) {\r\n            if (this.topics[m]) {\r\n                for (let i = 0, j = this.topics[m].length; i < j; i++) {\r\n                    if (this.topics[m][i].token === token) {\r\n                        this.topics[m].splice(i, 1)\r\n                        return token\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return this\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pubsub.ts","// Is a given variable undefined?\r\nexport function isUndefined(obj) {\r\n  return obj === void 0\r\n};\r\n// Is a given variable object?\r\nexport function isObject(obj) {\r\n  var type = typeof obj\r\n  return type === 'function' || type === 'object' && !!obj\r\n};\r\n\r\nexport function isEqual(x, y) {\r\n  'use strict'\r\n\r\n  if (x === null || x === undefined || y === null || y === undefined) { return x === y }\r\n  // after this just checking type of one would be enough\r\n  if (x.constructor !== y.constructor) { return false }\r\n  // if they are functions, they should exactly refer to same one (because of closures)\r\n  if (x instanceof Function) { return x === y }\r\n  // if they are regexps, they should exactly refer to same one (it is hard to better equality check on current ES)\r\n  if (x instanceof RegExp) { return x === y }\r\n  if (x === y || x.valueOf() === y.valueOf()) { return true }\r\n  if (Array.isArray(x) && x.length !== y.length) { return false }\r\n\r\n  // if they are dates, they must had equal valueOf\r\n  if (x instanceof Date) { return false }\r\n\r\n  // if they are strictly equal, they both need to be object at least\r\n  if (!(x instanceof Object)) { return false }\r\n  if (!(y instanceof Object)) { return false }\r\n\r\n  // recursive object equality check\r\n  var p = Object.keys(x)\r\n  return Object.keys(y).every(function (i) { return p.indexOf(i) !== -1 }) &&\r\n  p.every(function (i) { return isEqual(x[i], y[i]) })\r\n}\r\nexport let clone = function (obj) {\r\n    var copy;\r\n\r\n    // Handle the 3 simple types, and null or undefined\r\n    if (null == obj || \"object\" != typeof obj) return obj;\r\n\r\n    // Handle Date\r\n    if (obj instanceof Date) {\r\n        copy = new Date();\r\n        copy.setTime(obj.getTime());\r\n        return copy;\r\n    }\r\n\r\n    // Handle Array\r\n    if (obj instanceof Array) {\r\n        copy = [];\r\n        for (var i = 0, len = obj.length; i < len; i++) {\r\n            copy[i] = clone(obj[i]);\r\n        }\r\n        return copy;\r\n    }\r\n\r\n    // Handle Object\r\n    if (obj instanceof Object) {\r\n        copy = {};\r\n        for (var attr in obj) {\r\n            if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr]);\r\n        }\r\n        return copy;\r\n    }\r\n\r\n    throw new Error(\"Unable to copy obj! Its type isn't supported.\");\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils.ts"],"sourceRoot":""}