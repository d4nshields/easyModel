{"version":3,"sources":["webpack:///webpack/bootstrap 058ad1c8e59181353519","webpack:///./src/utils.js","webpack:///./src/listenTo.js","webpack:///./src/model.js","webpack:///./spec/app.js","webpack:///./src/pubsub.js"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;AChEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uEAAuE;AACvE;AACA,wCAAwC;AACxC;AACA,8BAA8B;AAC9B;AACA,4BAA4B;AAC5B,+CAA+C;AAC/C,kDAAkD;;AAElD;AACA,0BAA0B;;AAE1B;AACA,+BAA+B;AAC/B,+BAA+B;;AAE/B;AACA;AACA,4CAA4C,6BAA6B;AACzE,wBAAwB,6BAA6B;AACrD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;AACA;AACA;;;;;;;;;;;;ACvEA;AACsB;AACtB;AACA;AACA;AACA,UAAU,MAAM;AAChB,UAAU,OAAO;AACjB,UAAU,SAAS;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AChC+C;AAChC;AACf;;AAEA;AACA,eAAe,OAAO;AACtB;AACA;AACA,8BAA8B,OAAO;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qHAAqH,iBAAiB;AACtI,qKAA8F,gBAAgB;AAC9G,oDAAoD,eAAe;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,gBAAgB,8BAA8B;AAC5D,cAAc,gBAAgB,oCAAoC,8BAA8B;AAChG,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,gBAAgB;AAC9B;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,gBAAgB,8BAA8B;AAC5D,cAAc,gBAAgB,oCAAoC,8BAA8B;AAChG,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB,cAAc,OAAO;AACrB,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,IAAI;AAC7B,oCAAoC,gBAAgB;AACpD;AACA,4BAA4B;AAC5B;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,C;;;;;;;;;;;;ACnIc;AACG;AACjB;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;;AAED,yBAAyB,YAAY,GAAG,WAAW;;AAEnD,uCAAuC,gBAAgB;AACvD;AACA;AACA;;AAEA;AACA;;;AAGA,yBAAyB,YAAY,GAAG,WAAW;AACnD,kC;;AAEA,mB;;;;;;;;;ACzBuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,OAAO;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 058ad1c8e59181353519","// Is a given variable undefined?\nexport function isUndefined(obj) {\n  return obj === void 0\n};\n// Is a given variable object?\nexport function isObject(obj) {\n  var type = typeof obj\n  return type === 'function' || type === 'object' && !!obj\n};\n\nexport function isEqual(x, y) {\n  'use strict'\n\n  if (x === null || x === undefined || y === null || y === undefined) { return x === y }\n  // after this just checking type of one would be enough\n  if (x.constructor !== y.constructor) { return false }\n  // if they are functions, they should exactly refer to same one (because of closures)\n  if (x instanceof Function) { return x === y }\n  // if they are regexps, they should exactly refer to same one (it is hard to better equality check on current ES)\n  if (x instanceof RegExp) { return x === y }\n  if (x === y || x.valueOf() === y.valueOf()) { return true }\n  if (Array.isArray(x) && x.length !== y.length) { return false }\n\n  // if they are dates, they must had equal valueOf\n  if (x instanceof Date) { return false }\n\n  // if they are strictly equal, they both need to be object at least\n  if (!(x instanceof Object)) { return false }\n  if (!(y instanceof Object)) { return false }\n\n  // recursive object equality check\n  var p = Object.keys(x)\n  return Object.keys(y).every(function (i) { return p.indexOf(i) !== -1 }) &&\n  p.every(function (i) { return isEqual(x[i], y[i]) })\n}\nexport let clone = function (obj) {\n    var copy;\n\n    // Handle the 3 simple types, and null or undefined\n    if (null == obj || \"object\" != typeof obj) return obj;\n\n    // Handle Date\n    if (obj instanceof Date) {\n        copy = new Date();\n        copy.setTime(obj.getTime());\n        return copy;\n    }\n\n    // Handle Array\n    if (obj instanceof Array) {\n        copy = [];\n        for (var i = 0, len = obj.length; i < len; i++) {\n            copy[i] = clone(obj[i]);\n        }\n        return copy;\n    }\n\n    // Handle Object\n    if (obj instanceof Object) {\n        copy = {};\n        for (var attr in obj) {\n            if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr]);\n        }\n        return copy;\n    }\n\n    throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n}/* \n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/utils.js\n// module id = 0\n// module chunks = 0","\"use strict\"\nimport { isUndefined } from './utils'\n/**\n* listenTo\n* Listens for a model change and fires the callback function\n* @param {model} model - model\n* @param {string} action - the key/symbol of a model\n* @param {function} func - the callback/ function triggered by model change\n* @example\n* // Listening for a model change\n* let myModel = new Model()\n*\n* listenTo(myModel, \"name\", myFunction)\n*\n* myModel.set(\"name\", \"Vitalie\") // The model was changed  name Vitalie\n* myModel.set(\"name\", \"Dan\") // The model was changed  name Dan\n*\n* function myFunction(key, value) {\n*   console.log(\"The model was changed \", key, value )\n* }\n*/\nexport function listenTo(model, action, func) {\n  if(isUndefined(model)) {\n    throw new Error(\"model is undefined\")\n  }\n  if(isUndefined(action)) {\n    throw new Error(\"action is undefined\")\n  }\n  if(isUndefined(func)) {\n    throw new Error(\"func is undefined\");\n  }\n  model.pubsub.subscribe(action, func)\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/listenTo.js\n// module id = 1\n// module chunks = 0","import { isUndefined, isObject, isEqual, clone} from \"./utils\"\nimport {PubSub} from \"./pubsub\"\nexport class Model {\n    \n    /**\n     * @param {Object} [defaults] - default arguments for the model.\n     * @example\n     * // Set a model with a string key and string as value\n     * let model = new Model({id: 10})\n     * console.log(model.get(\"id\")) //10\n     *\n     * Warning:  pasing arguments to contructor(defaults) will not fire events\n    */\n    constructor(defaults = null) {\n        this._map = new Map();\n        this._pubsub = new PubSub()\n        if(arguments.length > 1) throw new Error(`Passing more than one argument to the contructor, expected 1 got ${arguments.length}`)\n        if(defaults && !isObject(defaults)) throw new Error(`Argument should be Object, got ${typeof defaults}`)\n        if(defaults) this.set(defaults, undefined, { silent: true })\n    }\n    /**\n    * Returns the pubsub instance\n    */\n    get pubsub() {\n        return this._pubsub;\n    }\n    /**\n    * Returns the model keys\n    */\n    get keys() {\n        return this._map.keys()\n    }\n    /**\n    * Model set.\n    * @param {(string|Object)} key - key can be string or {}.\n    * @param {(string|Object)} [value] - value can be string or {}, not used if the key is an {}.\n    * @param {Object} [options] - model options.\n    * @example\n    * // Set a model with a string key and string as value\n    * model.set(\"name\", \"Vitalie\")\n    * @example\n    * // Set a model with a string key and object as value\n    * model.set(\"person\", {\n    *   firstName: \"Vitalie\",\n    *   lastName: \"Jerebnii\"\n    * })\n    * @example\n    * // Set a model with an object and mixed values\n    * model.set({\n    *   id: 10,\n    *   person: {\n    *     firstName: \"Vitalie\",\n    *     lastName: \"Jerebnii\"\n    *   }\n    * })\n    * @example\n    * // Set a model without dispatching an event (silent mode)\n    * model.set(\"name\", \"Vitalie\", {silent: true})\n    */\n    set(key , value, options){\n        if(isUndefined(key)) {\n            throw new Error(\"Key is undefined\")\n        }\n        if(!isObject(key) && !isUndefined(value)) {\n            this._setSingleKey(key, value, options)\n        } else {\n            this._objToStrMap(key)\n        }\n\n    }\n    /**\n    * Set a single key with value\n    * @param {string} key\n    * @param {(string|Object)} value\n    */\n    _setSingleKey(key,value, options = {}) {\n        if( options.force || this._isValueChanged(key,value)) {\n            this._map.set(key, value)\n            if(!options.silent)\n                this._pubsub.publish(key, value)\n        }\n    }\n    /**\n    * Converts an object to key values\n    * @param {Object} key - model key.\n    */\n    _objToStrMap(obj) {\n      for (const key of Object.keys(obj)) {\n        this._setSingleKey(key,obj[key])\n      }\n    }\n    /**\n    * Checks if the new value is differend from the old one\n    * @param {(string|Object)} key - key can be string or {}.\n    * @param {(string|Object)} [value] - value can be string or {}, not used if the key is an {}.\n    * @return {boolean} boolean\n    */\n    _isValueChanged(key,value) {\n      if(this._map.has(key)) {\n        let oldValue = this._map.get(key)\n        return  !isEqual(value, oldValue)\n      }\n      return true\n    }\n    /**\n    * Model get.\n    * @param {(string)} key - model key.\n    * @param {Object} [options] - get options.\n    * @return {string|Object} The model value as string or object\n    * @example\n    * // Set a model with a string key and string as value\n    * model.set(\"name\", \"Vitalie\")\n    * let name = model.get(\"name\")\n    * console.log(name) // \"Vitalie\"\n    * @example \n    * // Using immutability\n    * model.set(\"data\", {x:1})\n    * let data = model.get(\"data\", {immutable: true});\n    * data.x = 2;\n    * console.log(data) // {x:2}\n    * let newData = model.get(\"data\");\n    * console.log(newData) // {x:1}\n    * \n    */\n    get(key, options) {\n        if( !isUndefined(options) && options.immutable ) {\n            return clone(this._map.get(key));\n        } else {\n            return this._map.get(key);\n        }\n    }\n} \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model.js\n// module id = 2\n// module chunks = 0","import {Model} from \"../src/model\"\nimport {listenTo} from \"../src/listenTo\"\n//import race from \"speedracer\"\nconsole.log(\"TEST Sipmle Model\")\n\nlet simpleModel = new Model();\n\nlistenTo(simpleModel, \"data\", function(key, value){\n    console.log(value, \"UPDATING\");\n})\n\nsimpleModel.set(\"data\", {x:1, y: \"n\"}, {force:true});\n  \nlet justData = simpleModel.get(\"data\",{immutable: true});\njustData.x = 2;\njustData.z = 2;\nconsole.log(justData, \"justData\")\n\nlet anotherData = simpleModel.get(\"data\");\nconsole.log(anotherData, \"anotherData\")\n\n\nsimpleModel.set(\"data\", {x:9, y: \"m\"}, {force:true});\nconsole.log(justData, \"justData\"); \n\nconsole.log(\"END\"); \n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./spec/app.js\n// module id = 3\n// module chunks = 0","import {  isUndefined } from './utils'\nexport class PubSub {\n    constructor() {\n        this.topics = {}\n        this.subUid = -1\n    }\n    // Publish or broadcast events of interest\n    // with a specific topic name and arguments\n    // such as the data to pass along\n    publish(topic, args) {\n        if (!(topic in this.topics) && !this.topics[topic]) {\n            return false\n        }\n\n        let subscribers = this.topics[topic],\n            len = subscribers ? subscribers.length : 0\n\n        while (len--) {\n            subscribers[len].func(topic, args)\n        }\n\n        return this\n    }\n\n    // Subscribe to events of interest\n    // with a specific topic name and a\n    // callback function, to be executed\n    // when the topic/event is observed\n    subscribe(topic, func) {\n\n        if (!this.topics[topic]) {\n            this.topics[topic] = []\n        }\n\n        let token = (++this.subUid).toString()\n        this.topics[topic].push({\n            token: token,\n            func: func\n        })\n        return token\n    }\n\n    // Unsubscribe from a specific\n    // topic, based on a tokenized reference\n    // to the subscription\n    unsubscribe(token) {\n        for (let m in this.topics) {\n            if (this.topics[m]) {\n                for (let i = 0, j = this.topics[m].length; i < j; i++) {\n                    if (this.topics[m][i].token === token) {\n                        this.topics[m].splice(i, 1)\n                        return token\n                    }\n                }\n            }\n        }\n        return this\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pubsub.js\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}